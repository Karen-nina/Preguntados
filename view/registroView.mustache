<main>

    <section class="section-vh-50">
        <div class="container py-5 h-10">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col col-xl-10">
                    <div class="card" style="border-radius: 1rem; box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);">
                        <div class="row g-0 d-flex flex-row align-items-center justify-content-between">
                            <div class="col-md-6 col-lg-5 d-none d-md-flex" >
                                <img src="/public/signin.png" alt="Preguntados" class="img-fluid img-center" style="border-radius: 1rem 0 0 1rem;" />
                            </div>
                            <div class="col-md-6 col-lg-7 d-flex align-items-center">
                                <div class="card-body p-4 p-lg-5 text-black">



                                    <form method="post" action="{{action}}" enctype="multipart/form-data">

                                        <div class="d-flex align-items-center mb-3 pb-1">
                                            <i class="fas fa-cubes fa-2x me-3" style="color: #ff6219;"></i>
                                            <span class="h1 fw-bold mb-0">Registrate</span>
                                        </div>

                                        <h5 class="fw-normal mb-3 pb-3" style="letter-spacing: 1px;">Registrate</h5>

                                        <div class="form-outline mb-4">
                                            <label class="form-label" for="nombre">Nombre</label>
                                            <input type="text" id="nombre" class="form-control form-control-lg" name="nombre" value="{{nombre}}" required/>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label" for="apellido">Apellido</label>
                                            <input type="text" id="apellido" class="form-control form-control-lg" name="apellido" value="{{apellido}}" required/>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label" for="anio_nacimiento">Año de Nacimiento</label>
                                            <input type="number" id="anio_nacimiento" class="form-control form-control-lg" name="anio_nacimiento" value="{{anio_nacimiento}}" required/>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label" for="pais">País</label>
                                            <select id="pais" class="form-control form-control-lg" name="pais" required>
                                                <option value="Argentina">Argentina</option>
                                                <option value="Uruguay">Uruguay</option>
                                                <option value="Chile">Chile</option>
                                            </select>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label" for="ciudad">Ciudad</label>
                                            <select id="ciudad" class="form-control form-control-lg" name="ciudad" required>
                                                <!-- Opciones de ciudad se cargarán dinámicamente aquí -->
                                            </select>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label" for="mail">Correo Electrónico</label>
                                            <input type="email" id="mail" class="form-control form-control-lg" name="mail" value="{{mail}}" required/>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label" for="usuario">Nombre de Usuario</label>
                                            <input type="text" id="usuario" class="form-control form-control-lg" name="usuario" value="{{usuario}}" required/>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label" for="clave">Contraseña</label>
                                            <input type="password" id="clave" class="form-control form-control-lg" name="clave" value="{{clave}}" required/>
                                            <small class="text-muted">La clave debe tener al menos una mayúscula y al menos un número</small>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label" for="fotoPerfil">Foto de Perfil</label>
                                            <input type="file" id="fotoPerfil" class="form-control form-control-lg" name="fotoPerfil" />
                                        </div>

                                        <div class="pt-1 mb-4">
                                            <button class="btn btn-dark btn-lg btn-block" type="submit">{{submitText}}</button>
                                        </div>

                                    </form>

                                    <script>
                                        const paisSelect = document.getElementById('pais');
                                        const ciudadSelect = document.getElementById('ciudad');

                                        const ciudadesPorPais = {
                                            Argentina: ["Buenos Aires", "Córdoba", "Santa Fe"],
                                            Uruguay: ["Montevideo", "Canelones", "Chihuaha"],
                                            Chile: ["Santiago", "Valparaíso", "La Serena"]
                                        };

                                        function actualizarCiudades() {
                                            const paisSeleccionado = paisSelect.value;
                                            const ciudades = ciudadesPorPais[paisSeleccionado] || [];
                                            // Limpiar las opciones actuales del select de ciudad
                                            ciudadSelect.innerHTML = "";
                                            ciudades.forEach((ciudad) => {
                                                const option = document.createElement("option");
                                                option.value = ciudad;
                                                option.textContent = ciudad;
                                                ciudadSelect.appendChild(option);
                                            });
                                        }

                                        // Asignar un evento de cambio al select de país para actualizar las ciudades
                                        paisSelect.addEventListener("change", actualizarCiudades);

                                        // Llamar a la función una vez para cargar las ciudades iniciales
                                        actualizarCiudades();
                                    </script>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>






